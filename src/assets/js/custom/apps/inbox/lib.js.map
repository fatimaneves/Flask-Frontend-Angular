{"version":3,"file":"js/custom/apps/inbox/lib.js","mappings":";;;;;;;;;;AAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,IAAI,KAA6B;AACjC;AACA;;;;;;UCxaA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack://keenthemes/../../../themes/start/html/src/js/custom/apps/inbox/lib.js","webpack://keenthemes/webpack/bootstrap","webpack://keenthemes/webpack/before-startup","webpack://keenthemes/webpack/startup","webpack://keenthemes/webpack/after-startup"],"sourcesContent":["\"use strict\";\n\n// Class Definition\nvar KTAppInboxLib = function() {\n    // Private properties\n    var _asideEl;\n    var _listEl;\n    var _viewEl;\n    var _composeEl;\n    var _replyEl;\n\n    // Private Methods\n    var _initEditor = function(form, editorId) {\n        if (!form) {\n            return;\n        }\n        \n        // init editor\n        var options = {\n            modules: {\n                toolbar: {}\n            },\n            placeholder: 'Type message...',\n            theme: 'snow'\n        };\n\n        // Init editor\n        var editor = new Quill('#' + editorId, options);\n\n        // Customize editor\n        var toolbar = form.querySelector('.ql-toolbar');\n        var editor = form.querySelector('.ql-editor');\n\n        if (toolbar) {\n            KTUtil.addClass(toolbar, 'px-5 border-top-0 border-start-0 border-end-0');\n        }\n\n        if (editor) {\n            KTUtil.addClass(editor, 'px-8');\n        }\n    }\n\n    var _initForm = function(form, editorId) {\n        if (!form) {\n            return;\n        }\n\n        // Init autocompletes\n        var to = form.querySelector('[name=compose_to]');\n\n        var tagifyTo = new Tagify(to, {\n            delimiters: \", \", // add new tags when a comma or a space character is entered\n            maxTags: 10,\n            blacklist: [\"fuck\", \"shit\", \"pussy\"],\n            keepInvalidTags: true, // do not remove invalid tags (but keep them marked as invalid)\n            whitelist: [{\n                value: 'Chris Muller',\n                email: 'chris.muller@wix.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-1.jpg',\n                class: 'tagify__tag--primary'\n            }, {\n                value: 'Nick Bold',\n                email: 'nick.seo@gmail.com',\n                initials: 'SS',\n                initialsState: 'warning',\n                pic: ''\n            }, {\n                value: 'Alon Silko',\n                email: 'alon@keenthemes.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-5.jpg'\n            }, {\n                value: 'Sam Seanic',\n                email: 'sam.senic@loop.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-20.jpg'\n            }, {\n                value: 'Sara Loran',\n                email: 'sara.loran@tilda.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-6.jpg'\n            }, {\n                value: 'Eric Davok',\n                email: 'davok@mix.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-12.jpg'\n            }, {\n                value: 'Sam Seanic',\n                email: 'sam.senic@loop.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-20.jpg'\n            }, {\n                value: 'Lina Nilson',\n                email: 'lina.nilson@loop.com',\n                initials: 'LN',\n                initialsState: 'danger',\n                pic: './assets/media/avatars/300-21.jpg'\n            }],\n            templates: {\n                dropdownItem: function(tagData) {\n                    try {\n                        var html = '';\n\n                        html += '<div class=\"tagify__dropdown__item\">';\n                        html += '   <div class=\"d-flex align-items-center\">';\n                        html += '       <span class=\"symbol sumbol-' + (tagData.initialsState ? tagData.initialsState : '') + ' me-2\">';\n                        html += '           <span class=\"symbol-label\" style=\"background-image: url(\\'' + (tagData.pic ? tagData.pic : '') + '\\')\">' + (tagData.initials ? tagData.initials : '') + '</span>';\n                        html += '       </span>';\n                        html += '       <div class=\"d-flex flex-column\">';\n                        html += '           <a href=\"#\" class=\"text-gray-800 text-hover-primary fw-bold\">' + (tagData.value ? tagData.value : '') + '</a>';\n                        html += '           <span class=\"text-muted fw-bold\">' + (tagData.email ? tagData.email : '') + '</span>';\n                        html += '       </div>';\n                        html += '   </div>';\n                        html += '</div>';\n\n                        return html;\n                    } catch (err) {}\n                }\n            },\n            transformTag: function(tagData) {\n                tagData.class = 'tagify__tag tagify__tag--primary';\n            },\n            dropdown: {\n                classname: \"color-blue\",\n                enabled: 1,\n                maxItems: 5\n            }\n        });\n\n        var cc = form.querySelector('[name=compose_cc]');\n        var tagifyCc = new Tagify(cc, {\n            delimiters: \", \", // add new tags when a comma or a space character is entered\n            maxTags: 10,\n            blacklist: [\"fuck\", \"shit\", \"pussy\"],\n            keepInvalidTags: true, // do not remove invalid tags (but keep them marked as invalid)\n            whitelist: [{\n                value: 'Chris Muller',\n                email: 'chris.muller@wix.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-1.jpg',\n                class: 'tagify__tag--primary'\n            }, {\n                value: 'Nick Bold',\n                email: 'nick.seo@gmail.com',\n                initials: 'SS',\n                initialsState: 'warning',\n                pic: ''\n            }, {\n                value: 'Alon Silko',\n                email: 'alon@keenthemes.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-5.jpg'\n            }, {\n                value: 'Sam Seanic',\n                email: 'sam.senic@loop.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-20.jpg'\n            }, {\n                value: 'Sara Loran',\n                email: 'sara.loran@tilda.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-6.jpg'\n            }, {\n                value: 'Eric Davok',\n                email: 'davok@mix.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-12.jpg'\n            }, {\n                value: 'Sam Seanic',\n                email: 'sam.senic@loop.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-20.jpg'\n            }, {\n                value: 'Lina Nilson',\n                email: 'lina.nilson@loop.com',\n                initials: 'LN',\n                initialsState: 'danger',\n                pic: './assets/media/avatars/300-21.jpg'\n            }],\n            templates: {\n                dropdownItem: function(tagData) {\n                    try {\n                        var html = '';\n\n                        html += '<div class=\"tagify__dropdown__item\">';\n                        html += '   <div class=\"d-flex align-items-center\">';\n                        html += '       <span class=\"symbol sumbol-' + (tagData.initialsState ? tagData.initialsState : '') + ' me-2\">';\n                        html += '           <span class=\"symbol-label\" style=\"background-image: url(\\'' + (tagData.pic ? tagData.pic : '') + '\\')\">' + (tagData.initials ? tagData.initials : '') + '</span>';\n                        html += '       </span>';\n                        html += '       <div class=\"d-flex flex-column\">';\n                        html += '           <a href=\"#\" class=\"text-gray-800 text-hover-primary fw-bold\">' + (tagData.value ? tagData.value : '') + '</a>';\n                        html += '           <span class=\"text-muted fw-bold\">' + (tagData.email ? tagData.email : '') + '</span>';\n                        html += '       </div>';\n                        html += '   </div>';\n                        html += '</div>';\n\n                        return html;\n                    } catch (err) {}\n                }\n            },\n            transformTag: function(tagData) {\n                tagData.class = 'tagify__tag tagify__tag--primary';\n            },\n            dropdown: {\n                classname: \"color-blue\",\n                enabled: 1,\n                maxItems: 5\n            }\n        });\n\n        var bcc = form.querySelector('[name=compose_bcc]');\n        var tagifyBcc = new Tagify(bcc, {\n            delimiters: \", \", // add new tags when a comma or a space character is entered\n            maxTags: 10,\n            blacklist: [\"fuck\", \"shit\", \"pussy\"],\n            keepInvalidTags: true, // do not remove invalid tags (but keep them marked as invalid)\n            whitelist: [{\n                value: 'Chris Muller',\n                email: 'chris.muller@wix.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-1.jpg',\n                class: 'tagify__tag--primary'\n            }, {\n                value: 'Nick Bold',\n                email: 'nick.seo@gmail.com',\n                initials: 'SS',\n                initialsState: 'warning',\n                pic: ''\n            }, {\n                value: 'Alon Silko',\n                email: 'alon@keenthemes.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-5.jpg'\n            }, {\n                value: 'Sam Seanic',\n                email: 'sam.senic@loop.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-20.jpg'\n            }, {\n                value: 'Sara Loran',\n                email: 'sara.loran@tilda.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-6.jpg'\n            }, {\n                value: 'Eric Davok',\n                email: 'davok@mix.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-12.jpg'\n            }, {\n                value: 'Sam Seanic',\n                email: 'sam.senic@loop.com',\n                initials: '',\n                initialsState: '',\n                pic: './assets/media/avatars/300-20.jpg'\n            }, {\n                value: 'Lina Nilson',\n                email: 'lina.nilson@loop.com',\n                initials: 'LN',\n                initialsState: 'danger',\n                pic: './assets/media/avatars/300-21.jpg'\n            }],\n            templates: {\n                dropdownItem: function(tagData) {\n                    try {\n                        var html = '';\n\n                        html += '<div class=\"tagify__dropdown__item\">';\n                        html += '   <div class=\"d-flex align-items-center\">';\n                        html += '       <span class=\"symbol sumbol-' + (tagData.initialsState ? tagData.initialsState : '') + ' me-2\">';\n                        html += '           <span class=\"symbol-label\" style=\"background-image: url(\\'' + (tagData.pic ? tagData.pic : '') + '\\')\">' + (tagData.initials ? tagData.initials : '') + '</span>';\n                        html += '       </span>';\n                        html += '       <div class=\"d-flex flex-column\">';\n                        html += '           <a href=\"#\" class=\"text-gray-800 text-hover-primary fw-bold\">' + (tagData.value ? tagData.value : '') + '</a>';\n                        html += '           <span class=\"text-muted fw-bold\">' + (tagData.email ? tagData.email : '') + '</span>';\n                        html += '       </div>';\n                        html += '   </div>';\n                        html += '</div>';\n\n                        return html;\n                    } catch (err) {}\n                }\n            },\n            transformTag: function(tagData) {\n                tagData.class = 'tagify__tag tagify__tag--primary';\n            },\n            dropdown: {\n                classname: \"color-blue\",\n                enabled: 1,\n                maxItems: 5\n            }\n        });\n\n        // CC input show\n        KTUtil.on(form, '[data-inbox=\"cc-show\"]', 'click', function(e) {\n            var input = form.querySelector('.inbox-to-cc');\n            KTUtil.removeClass(input, 'd-none');\n            KTUtil.addClass(input, 'd-flex');\n            form.querySelector(\"[name=compose_cc]\").focus();\n\n            _updateEditorScroll(editorId);\n        });\n\n        // CC input hide\n        KTUtil.on(form, '[data-inbox=\"cc-hide\"]', 'click', function(e) {\n            var input = form.querySelector('.inbox-to-cc');\n            KTUtil.removeClass(input, 'd-flex');\n            KTUtil.addClass(input, 'd-none');\n\n            _updateEditorScroll(editorId);\n        });\n\n        // BCC input show\n        KTUtil.on(form, '[data-inbox=\"bcc-show\"]', 'click', function(e) {\n            var input = form.querySelector('.inbox-to-bcc');\n            KTUtil.removeClass(input, 'd-none');\n            KTUtil.addClass(input, 'd-flex');\n            form.querySelector(\"[name=compose_bcc]\").focus();\n\n            _updateEditorScroll(editorId);\n        });\n\n        // BCC input hide\n        KTUtil.on(form, '[data-inbox=\"bcc-hide\"]', 'click', function(e) {\n            var input = form.querySelector('.inbox-to-bcc');\n            KTUtil.removeClass(input, 'd-flex');\n            KTUtil.addClass(input, 'd-none');\n\n            _updateEditorScroll(editorId);\n        });\n    }\n\n    var _initAttachments = function(container, editorId) {\n        var id = '#' + container.getAttribute('id');\n        var previewNode = $(id + \" .dropzone-item\");\n\n        previewNode.id = \"\";\n        var previewTemplate = previewNode.parent(\".dropzone-items\").html();\n        previewNode.remove();\n        \n        var myDropzone = new Dropzone(id, { // Make the whole body a dropzone\n            url: \"https://keenthemes.com/scripts/void.php\", // Set the url for your upload script location\n            parallelUploads: 20,\n            maxFilesize: 1, // Max filesize in MB\n            previewTemplate: previewTemplate,\n            previewsContainer: id + \" .dropzone-items\", // Define the container to display the previews\n            clickable: id + \"_select\" // Define the element that should be used as click trigger to select files.\n        });\n        \n        myDropzone.on(\"addedfile\", function(file) {\n            // Hookup the start button\n            $(document).find( id + \" .dropzone-item\").css(\"display\", \"\");\n            _updateEditorScroll(editorId);\n        });\n\n        myDropzone.on(\"removedfile\", function(file) {\n            _updateEditorScroll(editorId);\n        });\n\n        // Update the total progress bar\n        myDropzone.on(\"totaluploadprogress\", function(progress) {\n            $( id + \" .progress-bar\").css(\"width\", progress + \"%\");\n        });\n\n        myDropzone.on(\"sending\", function(file) {\n            // Show the total progress bar when upload starts\n            $( id + \" .progress-bar\").css(\"opacity\", \"1\");\n        });\n\n        // Hide the total progress bar when nothing\"s uploading anymore\n        myDropzone.on(\"complete\", function(progress) {\n            var thisProgressBar = id + \" .dz-complete\";\n\n            setTimeout(function(){\n                $( thisProgressBar + \" .progress-bar, \" + thisProgressBar + \" .progress\").css(\"opacity\", \"0\");\n            }, 300)\n        });\n    }\n\n    var _updateEditorScroll = function(editor) {\n        var el = document.querySelector('#' + editor);\n        var scroll = KTScroll.getInstance(el);\n        if (scroll) {\n            scroll.update();\n        }\n    }\n\n    // Public methods\n    return {\n        // Public functions\n        initEditor: function(form, editor) {\n            _initEditor(form, editor);\n        },\n\n        initForm: function(form, editor) {\n            _initForm(form, editor);\n        },\n\n        initAttachments: function(container, editor) {\n            _initAttachments(container, editor);\n        }\n    };\n}();\n\n// Webpack support\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = KTAppInboxLib;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"../../../themes/start/html/src/js/custom/apps/inbox/lib.js\");\n",""],"names":[],"sourceRoot":""}