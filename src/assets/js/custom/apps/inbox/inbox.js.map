{"version":3,"file":"js/custom/apps/inbox/inbox.js","mappings":";;;;;;AAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;;AAEA,wDAAwD;AACxD,wDAAwD;;AAExD;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA;;AAEA,iDAAiD,OAAO;AACxD;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC","sources":["webpack://keenthemes/../../../themes/start/html/src/js/custom/apps/inbox/inbox.js"],"sourcesContent":["\"use strict\";\n\n// Class Definition\nvar KTAppInbox = function() {\n    // Private Properties\n    var _asideEl;\n    var _listEl;\n    var _viewEl;\n    var _replyEl;\n\n    // Private Functions\n    var _initAside = function() {\n        // View list\n        KTUtil.on(_asideEl, '.list-item[data-action=\"list\"]', 'click', function(e) {\n            var activeItemEl = _asideEl.querySelector('[data-action=\"list\"].active');\n\n            // demo loading\n            var loading = new KTFeedback({\n                'width': '150px',\n                'placement': 'top-center',\n                'content': '<span class=\"fw-bold\">Loading ...</span>'\n            });\n\n            loading.show();\n\n            setTimeout(function() {\n                loading.hide();\n\n                KTUtil.css(_listEl, 'display', 'flex'); // show list\n                KTUtil.css(_viewEl, 'display', 'none'); // hide view\n\n                KTUtil.removeClass(activeItemEl, 'active');\n                KTUtil.addClass(this, 'active');\n            }, 600);\n        });\n    }\n\n    var _initList = function() {\n        // View message\n        KTUtil.on(_listEl, '[data-inbox=\"message\"]', 'click', function(e) {\n            var actionsEl = this.querySelector('[data-inbox=\"actions\"]');\n\n            // skip actions click\n            if (e.target === actionsEl || (actionsEl && actionsEl.contains(e.target) === true)) {\n                return false;\n            }\n\n            // Demo loading\n            var loading = new KTFeedback({\n                'width': '150px',\n                'placement': 'top-center',\n                'content': '<span class=\"fw-bold\">Loading ...</span>'\n            });\n            loading.show();\n\n            setTimeout(function() {\n                loading.hide();\n\n                KTUtil.addClass(_listEl, 'd-none');\n                KTUtil.removeClass(_listEl, 'd-block');\n\n                KTUtil.addClass(_viewEl, 'd-block');\n                KTUtil.removeClass(_viewEl, 'd-none');\n            }, 700);\n        });\n\n        // Group selection\n        KTUtil.on(_listEl, '[data-inbox=\"group-select\"] input', 'click', function() {\n            var messages = _listEl.querySelectorAll('[data-inbox=\"message\"]');\n\n            for (var i = 0, j = messages.length; i < j; i++) {\n                var message = messages[i];\n                var checkbox = message.querySelector('.form-check input');\n                checkbox.checked = this.checked;\n\n                if (this.checked) {\n                    KTUtil.addClass(message, 'active');\n                } else {\n                    KTUtil.removeClass(message, 'active');\n                }\n            }\n        });\n\n        // Individual selection\n        KTUtil.on(_listEl, '[data-inbox=\"message\"] [data-inbox=\"actions\"] .checkbox input', 'click', function() {\n            var item = this.closest('[data-inbox=\"message\"]');\n\n            if (item && this.checked) {\n                KTUtil.addClass(item, 'active');\n            } else {\n                KTUtil.removeClass(item, 'active');\n            }\n        });\n    }\n\n    var _initView = function() {\n        // Back to listing\n        KTUtil.on(_viewEl, '[data-inbox=\"back\"]', 'click', function() {\n            // Demo loading\n            var loading = new KTFeedback({\n                'width': '150px',\n                'placement': 'top-center',\n                'content': '<span class=\"fw-bold\">Loading ...</span>'\n            });\n\n            loading.show();\n\n            setTimeout(function() {\n                loading.hide();\n\n                KTUtil.addClass(_listEl, 'd-block');\n                KTUtil.removeClass(_listEl, 'd-none');\n\n                KTUtil.addClass(_viewEl, 'd-none');\n                KTUtil.removeClass(_viewEl, 'd-block');\n            }, 700);\n        });\n    }\n\n    var _initReply = function() {\n        KTAppInboxLib.initEditor( _replyEl, 'kt_inbox_reply_editor' );\n        KTAppInboxLib.initAttachments( document.querySelector('#kt_inbox_reply_attachments'), 'kt_inbox_reply_editor' );\n        KTAppInboxLib.initForm( document.querySelector('#kt_inbox_reply_form'), 'kt_inbox_reply_editor' );\n    }\n\n    // Public methods\n    return {\n        // Public functions\n        init: function() {\n            // Init variables\n            _asideEl = document.querySelector('#kt_inbox_aside');\n            _listEl = document.querySelector('#kt_inbox_list');\n            _viewEl = document.querySelector('#kt_inbox_view');\n            _replyEl = document.querySelector('#kt_inbox_reply');\n\n            // Init handlers\n            if ( _asideEl !== null ) {\n                _initAside();\n            }\n\n            if ( _listEl !== null ) {\n                _initList();\n            }\n\n            if ( _viewEl !== null ) {\n                _initView();\n            }\n\n            if ( _replyEl !== null ) {\n                _initReply();\n            }\n        }\n    };\n}();\n\n// On document ready\nKTUtil.onDOMContentLoaded(function() {\n    KTAppInbox.init();\n});\n"],"names":[],"sourceRoot":""}